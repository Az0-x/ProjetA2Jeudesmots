using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.IO;

namespace ProjetA2AlexandreAlbin
{
    internal struct LetterInformations
    {
        #region def de la classe

        //Creation des éléments de la structures
        public char Letter { get; }
        public int Occurence { get; }
        public int Poids { get; }


        //definition d'un constructeur
        public LetterInformations(char letter, int occurence, int poids)
        {
            Letter = letter;
            Occurence = occurence;
            Poids = poids;
        }

        #endregion



        //On peut faire soit un tab ( il y a 26 lettres donc fixe ou une Liste, le choix dépend de la tournure du jeux si on veut ajouter des caractéres ou autres )
        private static readonly string path = Path.Combine("externalFiles", "Lettre.txt"); // Path combine sert a créer le chemin d'acces parfais malgres Linux/ Windows ( Comme on peut avoir plusieur systeme d'exploitation )
        
        
        #region Création de la liste Lettre
        public static List<LetterInformations> Lettres = new List<LetterInformations>();
        
        public static void creationTab()
        {
            // Ensure directory exists before checking the file
            var dir = Path.GetDirectoryName(path);
            if (!string.IsNullOrEmpty(dir) && !Directory.Exists(dir))
            {
                Directory.CreateDirectory(dir);
            }

            if (File.Exists(path))
            {
                // Optionally read and populate the list from the file here.
                // For now, just demonstrating safe use of File.Exists.
            }
            else
            {
                // Create an empty file so subsequent calls to File.Exists will be true
                File.Create(path).Dispose();
            }


            // Example: add a default letter (ensure list is initialized)
            Lettres.Add(new LetterInformations('A', 1, 1));
        }

        



        #endregion

        /*
        #region Création de la tab Lettres
        public static LetterInformations[] Lettres = new LetterInformations[26];


        #endregion
        */
    }
}
